// Code generated by stefc. DO NOT EDIT.
// Scope Java class generated from template
package com.example.oteltef;

import net.stef.BytesValue;
import net.stef.StringValue;
import net.stef.Types;
import net.stef.schema.WireSchema;

import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.util.*;

public class Scope {
    // Field values.
    
    StringValue name;
    StringValue version;
    StringValue schemaURL;
    Attributes attributes;
    long droppedAttributesCount;

    // modifiedFields keeps track of which fields are modified.
    final ModifiedFields modifiedFields = new ModifiedFields();

    public static final String StructName = "Scope";

    // Bitmasks for "modified" flags for each field.
    
    public static final long fieldModifiedName = 1 << 0;
    public static final long fieldModifiedVersion = 1 << 1;
    public static final long fieldModifiedSchemaURL = 1 << 2;
    public static final long fieldModifiedAttributes = 1 << 3;
    public static final long fieldModifiedDroppedAttributesCount = 1 << 4;

    

    public Scope() {
        init(null, 0);
    }

    Scope(ModifiedFields parentModifiedFields, long parentModifiedBit) {
        init(parentModifiedFields, parentModifiedBit);
    }

    private void init(ModifiedFields parentModifiedFields, long parentModifiedBit) {
        modifiedFields.parent = parentModifiedFields;
        modifiedFields.parentBit = parentModifiedBit;
        
        name = StringValue.empty;
        version = StringValue.empty;
        schemaURL = StringValue.empty;
        attributes = new Attributes(modifiedFields, fieldModifiedAttributes);
        droppedAttributesCount = 0;
    }

    void reset() {
        
        name = StringValue.empty;
        version = StringValue.empty;
        schemaURL = StringValue.empty;
        if (attributes != null) {
            attributes.reset();
        }
        droppedAttributesCount = 0;
    }

    
    public StringValue getName() {
        return name;
    }

    // setName sets the value of Name field.
    public void setName(StringValue v) {
        if (!Types.StringEqual(this.name, v)) {
            this.name = v;
            this.markNameModified();
        }
    }

    private void markNameModified() {
        this.modifiedFields.markModified(fieldModifiedName);
    }

    // isNameModified returns true if the value of Name field was modified since
    // Scope was created, encoded or decoded. If the field is modified
    // it will be encoded by the next Write() operation. If the field is decoded by the
    // next Read() operation the modified flag will be set.
    public boolean isNameModified() {
        return (this.modifiedFields.mask & fieldModifiedName) != 0;
    }
    
    public StringValue getVersion() {
        return version;
    }

    // setVersion sets the value of Version field.
    public void setVersion(StringValue v) {
        if (!Types.StringEqual(this.version, v)) {
            this.version = v;
            this.markVersionModified();
        }
    }

    private void markVersionModified() {
        this.modifiedFields.markModified(fieldModifiedVersion);
    }

    // isVersionModified returns true if the value of Version field was modified since
    // Scope was created, encoded or decoded. If the field is modified
    // it will be encoded by the next Write() operation. If the field is decoded by the
    // next Read() operation the modified flag will be set.
    public boolean isVersionModified() {
        return (this.modifiedFields.mask & fieldModifiedVersion) != 0;
    }
    
    public StringValue getSchemaURL() {
        return schemaURL;
    }

    // setSchemaURL sets the value of SchemaURL field.
    public void setSchemaURL(StringValue v) {
        if (!Types.StringEqual(this.schemaURL, v)) {
            this.schemaURL = v;
            this.markSchemaURLModified();
        }
    }

    private void markSchemaURLModified() {
        this.modifiedFields.markModified(fieldModifiedSchemaURL);
    }

    // isSchemaURLModified returns true if the value of SchemaURL field was modified since
    // Scope was created, encoded or decoded. If the field is modified
    // it will be encoded by the next Write() operation. If the field is decoded by the
    // next Read() operation the modified flag will be set.
    public boolean isSchemaURLModified() {
        return (this.modifiedFields.mask & fieldModifiedSchemaURL) != 0;
    }
    
    public Attributes getAttributes() {
        return this.attributes;
    }

    private void markAttributesModified() {
        this.modifiedFields.markModified(fieldModifiedAttributes);
    }

    // isAttributesModified returns true if the value of Attributes field was modified since
    // Scope was created, encoded or decoded. If the field is modified
    // it will be encoded by the next Write() operation. If the field is decoded by the
    // next Read() operation the modified flag will be set.
    public boolean isAttributesModified() {
        return (this.modifiedFields.mask & fieldModifiedAttributes) != 0;
    }
    
    public long getDroppedAttributesCount() {
        return droppedAttributesCount;
    }

    // setDroppedAttributesCount sets the value of DroppedAttributesCount field.
    public void setDroppedAttributesCount(long v) {
        if (!Types.Uint64Equal(this.droppedAttributesCount, v)) {
            this.droppedAttributesCount = v;
            this.markDroppedAttributesCountModified();
        }
    }

    private void markDroppedAttributesCountModified() {
        this.modifiedFields.markModified(fieldModifiedDroppedAttributesCount);
    }

    // isDroppedAttributesCountModified returns true if the value of DroppedAttributesCount field was modified since
    // Scope was created, encoded or decoded. If the field is modified
    // it will be encoded by the next Write() operation. If the field is decoded by the
    // next Read() operation the modified flag will be set.
    public boolean isDroppedAttributesCountModified() {
        return (this.modifiedFields.mask & fieldModifiedDroppedAttributesCount) != 0;
    }
    

    void markModifiedRecursively() {
        attributes.markModifiedRecursively();
        modifiedFields.mask =
            fieldModifiedName | 
            fieldModifiedVersion | 
            fieldModifiedSchemaURL | 
            fieldModifiedAttributes | 
            fieldModifiedDroppedAttributesCount | 0;
    }

    void markUnmodifiedRecursively() {
        if (isAttributesModified()) {
            attributes.markUnmodifiedRecursively();
        }
        modifiedFields.mask = 0;
    }

    public Scope clone() {
        Scope cpy = new Scope();
        cpy.name = this.name;
        cpy.version = this.version;
        cpy.schemaURL = this.schemaURL;
        cpy.attributes = this.attributes.clone();
        cpy.droppedAttributesCount = this.droppedAttributesCount;
        return cpy;
    }

    // ByteSize returns approximate memory usage in bytes. Used to calculate memory used by dictionaries.
    int byteSize() {
        int size = 0; // TODO: calculate the size of this object.
        
        
        
        size += this.attributes.byteSize();
        
        return size;
    }

    // Performs a deep copy from src to dst.
    public void copyFrom(Scope src) {
        setName(src.getName());
        setVersion(src.getVersion());
        setSchemaURL(src.getSchemaURL());
        attributes.copyFrom(src.attributes);
        setDroppedAttributesCount(src.getDroppedAttributesCount());
    }

    // equals performs deep comparison and returns true if struct is equal to val.
    public boolean equals(Scope right) {
        // Compare Name field.
        if (!Types.StringEqual(this.name, right.name)) {
            return false;
        }
        // Compare Version field.
        if (!Types.StringEqual(this.version, right.version)) {
            return false;
        }
        // Compare SchemaURL field.
        if (!Types.StringEqual(this.schemaURL, right.schemaURL)) {
            return false;
        }
        // Compare Attributes field.
        if (!this.attributes.equals(right.attributes)) {
            return false;
        }
        // Compare DroppedAttributesCount field.
        if (!Types.Uint64Equal(this.droppedAttributesCount, right.droppedAttributesCount)) {
            return false;
        }
        return true;
    }

    public static boolean equals(Scope left, Scope right) {
        return left.equals(right);
    }

    // compare performs deep comparison and returns an integer that
    // will be 0 if left == right, negative if left < right, positive if left > right.
    public static int compare(Scope left, Scope right) {
        if (left == null) {
            if (right == null) {
                return 0;
            }
            return -1;
        }
        if (right == null) {
            return 1;
        }
        int c;
        
        // Compare Name field.
        c = Types.StringCompare(left.name, right.name);
        if (c != 0) {
            return c;
        }
        
        // Compare Version field.
        c = Types.StringCompare(left.version, right.version);
        if (c != 0) {
            return c;
        }
        
        // Compare SchemaURL field.
        c = Types.StringCompare(left.schemaURL, right.schemaURL);
        if (c != 0) {
            return c;
        }
        
        // Compare Attributes field.
        c = Attributes.compare(left.attributes, right.attributes);
        if (c != 0) {
            return c;
        }
        
        // Compare DroppedAttributesCount field.
        c = Types.Uint64Compare(left.droppedAttributesCount, right.droppedAttributesCount);
        if (c != 0) {
            return c;
        }
        
        return 0;
    }

    // mutateRandom mutates fields in a random, deterministic manner using random as a deterministic generator.
    void mutateRandom(Random random) {
        final int fieldCount = Math.max(5,2); // At least 2 to ensure we don't recurse infinitely if there is only 1 field.
        
        if (random.nextInt(fieldCount) == 0) {
            this.setName(Types.StringRandom(random));
        }
        
        if (random.nextInt(fieldCount) == 0) {
            this.setVersion(Types.StringRandom(random));
        }
        
        if (random.nextInt(fieldCount) == 0) {
            this.setSchemaURL(Types.StringRandom(random));
        }
        
        if (random.nextInt(fieldCount) == 0) {
            this.attributes.mutateRandom(random);
        }
        
        if (random.nextInt(fieldCount) == 0) {
            this.setDroppedAttributesCount(Types.Uint64Random(random));
        }
        
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) {
            return false;
        }
        return equals((Scope)o);
    }

    @Override
    public int hashCode() {
        return Objects.hash(
            name,
            version,
            schemaURL,
            attributes,
            droppedAttributesCount
        );
    }

    
}
